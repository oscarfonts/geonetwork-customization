<!doctype html>
<html lang="es">
    <head>
        <title>Personalización avanzada de GeoNetwork</title>
        <meta name="author" content="Oscar Fonts">
        <meta name="author" content="María Arias de Reyna">
        <meta name="author" content="Víctor González">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <link rel="stylesheet" href="reveal.js/css/reveal.css">
        <link rel="stylesheet" href="reveal.js/css/theme/sky.css">
        <link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">
        <style type="text/css">
            p > code.hljs {
                display: inline;
                font-size: x-large;
            }
        </style>
    </head>
    <body>
        <div class="reveal">
            <div class="slides">
                <section>
                    <h1>GeoNetwork</h1>
                    <h2>Personalización avanzada</h2>
                    <p><a href="http://fonts.cat/geonetwork-jiide2016">http://fonts.cat/geonetwork-jiide2016</a></p>
                </section>
                <section>
                    <h3>Nosotros</h3>
                    <table>
                        <tbody>
                            <tr>
                                <td><img class="plain" src="https://s.gravatar.com/avatar/04d983dc95ce1ae4d343050e9cf099d9"/></td>
                                <td style="vertical-align: middle;">Óscar Fonts</td>
                                <td><a href="http://geomati.co"><img class="plain" src="http://geomati.co/imagenes/logo.png"/></a></td>
                            </tr>
                            <tr>
                                <td><img class="plain" src="https://s.gravatar.com/avatar/a670790f71aa89e67d4d8848ff0c19be"/></td>
                                <td style="vertical-align: middle;">María Arias de Reyna</td>
                                <td><a href="https://geocat.net"><img class="plain" src="https://www.geocat.net/wp-content/uploads/2013/02/GeoCat.png"/></a></td>
                            </tr>
                            <tr>
                                <td><img class="plain" src="https://s.gravatar.com/avatar/a8ea2581a78c0d63ac3952c0a522b27a"/></td>
                                <td style="vertical-align: middle;">Víctor González</td>
                                <td><a href="http://geomati.co"><img class="plain" src="http://geomati.co/imagenes/logo.png"/></a></td>
                            </tr>
                        </tbody>
                    </table>
                </section>
                <section>
                    <h3>Servidores de test</h3>
                    <section>
                        <p>Docker <a href="https://hub.docker.com/r/oscarfonts/geonetwork/">oscarfonts/geonetwork</a></p>
                        <p>GeoCat <a href="https://vanilla.geocat.net">Demo Server</a></p>
                    </section>
                    <section>
                        <iframe class="stretch" data-src="https://vanilla.geocat.net/geonetwork/"></iframe>
                    </section>
                </section>
                <section>
                    <h3>Despliegue</h3>
                    <p><code class="hljs">$GN_BASE</code> /var/lib/tomcat7/webapps/geonetwork/</p>
                    <p><code class="hljs">$GN_DATA_DIR</code> /var/local/geonetwork_data/</p>
                </section>
                <section>
                    <h3>PostGIS</h3>
                    <section>
                        <p><code class="hljs">GN_BASE => WEB-INF/config-node/srv.xml</code></p>
                        <pre><code class="xml">
    <!--import resource="../config-db/h2.xml"/-->
    <import resource="../config-db/postgres.xml"></import>
                        </code></pre>
                    </section>
                    <section>
                        <p><code class="hljs">GN_BASE => WEB-INF/config-db/jdbc.properties</code></p>
                        <pre><code class="properties">
    jdbc.host=127.0.0.1
    jdbc.port=5432
    jdbc.database=gn_db
    jdbc.username=gn_user
    jdbc.password=gn_pass
                        </code></pre>
                    </section>
                    <section>
                        <p><code class="hljs">GN_BASE => WEB-INF/config-db/postgres.xml</code></p>
                        <pre><code class="xml">
    ...
    <import resource="postgis-alternate-datasource.xml"></import>
    ...
    <bean id="jdbcDriverClassName" class="java.lang.String">
        <!--constructor-arg value="org.postgresql.Driver"/-->
        <constructor-arg value="org.postgis.DriverWrapper"></constructor-arg>
    </bean>
    ...
    <bean id="jdbcURL" class="java.lang.String">
        <!--constructor-arg value="jdbc:postgresql://${jdbc.host}:5432/${jdbc.database}"/-->
        <constructor-arg value="jdbc:postgresql_postGIS://${jdbc.host}:${jdbc.port}/${jdbc.database}"></constructor-arg>
    </bean>
    ...
                        </code></pre>
                    </section>
                </section>
                <section>[@delawen] Schema Plugins, metadata 101</section>
                <section>[@delawen] Cómo extender namespace MD_Metadata
                    <section>XSD</section>
                    <section>Schematron</section>
                    <section>Interfaz consulta</section>
                    <section>Interfaz edición</section>
                    <section>...</section>
                </section>
                <section>
                    <h3>Multiidioma</h3>
                    <h4>Transifex</h4>
                    <img src="images/transifex.png"/>
                    <a href="https://www.transifex.com/geonetwork/core-geonetwork/" target="_blank">https://www.transifex.com/geonetwork/core-geonetwork/</a>
                </section>
                <section>
                    <h3>Multiidioma</h3>
                    <h4>Schema Plugins (XML)</h4>
                    <section>
                        <p><code class="hljs">GN_DATA_DIR => config/schema_plugins/[iso19139]/loc/[spa]/*.xml</code></p>
                        <p><code class="hljs">strings.xml</code></p>
                        <p><code class="hljs">labels.xml</code></p>
                        <pre><code class="xml">
    <element name="gmd:MD_Metadata" id="1.0">
        <label>Metadatos</label>
        <abbrLabel>Metadatos</abbrLabel>
        <description>Entidad raíz que define los metadatos de un recurso o recursos</description>
    </element>
                        </code></pre>
                    </section>
                    <section>
                        <p><code class="hljs">codelists.xml</code></p>
                        <pre><code class="xml">
    <codelist name="gmd:CI_PresentationFormCode">
        <entry>
            <code>documentDigital</code>
            <label>Documento digital</label>
            <description>...</description>
        </entry>
        <entry>
            <code>imageDigital</code>
            <label>Imagen digital</label>
            <description>...</description>
        </entry>
        ...
    </codelist>
    </code></pre>
                    </section>
                        
                </section>
                <section>
                    <h3>Multiidioma</h3>
                    <h4>Los metadatos</h4>
                    <section>
                        <h5>1. El idioma principal</h5>
                        <pre><code class="xml">
<gmd:language>
    <gmd:LanguageCode codeListValue="spa" codeList="http://www.loc.gov/standards/iso639-2/"></gmd:LanguageCode>
</gmd:language>
                        </code></pre>
                    </section>
                    <section>
                        <h5>2. Definir idiomas secundarios</h5>
                        <pre><code class="xml">
<gmd:locale>
    <gmd:PT_Locale id="en">
        <gmd:languageCode>
            <gmd:LanguageCode codeList="http://www.loc.gov/standards/iso639-2/" codeListValue="eng"/>
        </gmd:languageCode>
        <gmd:characterEncoding>
            <gmd:MD_CharacterSetCode codeList="http://standards.iso.org/ittf/PubliclyAvailableStandards/ISO_19139_Schemas/resources/codelist/ML_gmxCodelists.xml#MD_CharacterSetCode"
                                     codeListValue="utf8"/>
        </gmd:characterEncoding>
    </gmd:PT_Locale>
</gmd:locale>
<gmd:locale>...</gmd:locale>
                        </code></pre>
                    </section>
                    <section>
                        <h5>3. Textos multilingües</h5>
                        <pre><code class="xml">
<gmd:xxxxxxxxx xsi:type="gmd:PT_FreeText_PropertyType">
    <gco:CharacterString>Texto en el idioma principal</gco:CharacterString>
    <gmd:PT_FreeText>
        <gmd:textGroup>
            <gmd:LocalisedCharacterString locale="#en">Text in secondary language</gmd:LocalisedCharacterString>
        </gmd:textGroup>
        <gmd:textGroup>...</gmd:textGroup>
    </gmd:PT_FreeText>
</gmd:xxxxxxxxx>
                        </code></pre>
                    </section>
                </section>
                <section>
                    <h3>Multiidioma</h3>
                    <h4>Ejemplo formulario de edición</h4>
                    <img src="images/multilang.png"/>
                </section>
                <section>Adaptar aspecto gráfico: web-ui, CSS
                    <section>Cómo adaptar interfaz de búsqueda</section>
                    <section>Añadir campos propios</section>
                    <section>Añadir facets</section>
                </section>
                <section>
                    <p><a href="http://fonts.cat/geonetwork-jiide2016">http://fonts.cat/geonetwork-jiide2016</a></p>
                </section>
            </div>
        </div>
        <script src="reveal.js/lib/js/head.min.js"></script>
        <script src="reveal.js/js/reveal.js"></script>
        <script>
            Reveal.initialize({
                controls: true,
                progress: true,
                history: true,
                center: true,
                dependencies: [{
                    src: 'reveal.js/plugin/highlight/highlight.js',
                    async: true,
                    callback: function() {
                        hljs.initHighlightingOnLoad();
                    }
                }]
            });
        </script>
    </body>
</html>
